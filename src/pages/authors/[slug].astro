---
import { type CollectionEntry, getCollection, render } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import Prose from "@/components/Prose.astro";
import Author from "@/components/Author.astro";

type Author = CollectionEntry<"authors">;
type Props = Author;

export async function getStaticPaths() {
  const authors: Author[] = await getCollection("authors");

  return authors.map((author) => ({
    params: { slug: author.id },
    props: author,
  }));
}

const { data: author } = Astro.props;
// const { Content, headings } = await render(post);
---

<Layout title={author.name} description={author.bio}>
  {author.name}
  <Prose />
</Layout>
